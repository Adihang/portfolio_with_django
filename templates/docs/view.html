{% extends 'base.html' %}
{% block body_class %}docs-page{% endblock %}
{% block content %}
{% include 'docs/_assets_head.html' %}

<div class="docs-toolbar-wrap">
    <div class="docs-shell docs-toolbar">
        <div class="docs-toolbar-left">
            <div class="docs-title-row">
                <h1 class="docs-title">{{ doc_title }}</h1>
            </div>
            <div class="docs-subtitle docs-path-breadcrumbs">
                {% for crumb in view_breadcrumbs %}
                    {% if not forloop.first %}<span class="docs-path-sep">/</span>{% endif %}
                    <a class="docs-path-link" href="{{ crumb.url }}">{{ crumb.label }}</a>
                {% endfor %}
                <span class="docs-path-sep">/</span>
                <span class="docs-path-current">{{ view_current_file_name }}</span>
            </div>
        </div>
        <div class="docs-toolbar-right">
            {% include "docs/_auth_account.html" %}
            <div class="docs-toolbar-actions">
                <button class="docs-help-icon-link" type="button" id="docs-page-help-btn" aria-label="{{ docs_text.help_button }}" title="{{ docs_text.help_button }}"><span class="docs-help-icon-symbol" aria-hidden="true"></span></button>
                {% include "docs/_auth_button.html" %}
                <a class="docs-btn" href="{{ docs_api_download_url }}?path={{ doc_relative_path|urlencode }}">{{ docs_text.download_button }}</a>
                {% if doc_can_edit %}
                    <a class="docs-btn" href="{{ docs_base_url }}">{{ docs_text.list_button }}</a>
                    <a class="docs-btn" href="{{ docs_write_url }}?path={{ doc_relative_path|urlencode }}">{{ docs_text.edit_button }}</a>
                {% endif %}
                {% if docs_can_edit %}
                    <button class="docs-btn" type="button" id="docs-delete-btn">{{ docs_text.delete_button }}</button>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<main
    class="docs-shell docs-content"
    data-docs-page="view"
    data-docs-base-url="{{ docs_base_url }}"
    data-delete-api-url="{{ docs_api_delete_url }}"
    data-doc-path="{{ doc_relative_path }}"
    data-parent-dir="{{ doc_parent_dir }}"
    data-ui-lang="{{ ui_lang|default:'ko' }}"
>
    <article class="docs-markdown">{{ doc_content_html }}</article>
</main>

{% include "popup/docs/confirm_modal.html" %}
{% include "popup/docs/auth_logout_modal.html" %}
{% include "popup/docs/page_help_modal.html" %}

{{ docs_text|json_script:"docs-i18n" }}
{% include 'docs/_assets_script.html' %}
{% endblock %}
