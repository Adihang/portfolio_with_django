{% extends 'base.html' %}
{% load static static_versioned %}
{% block body_class %}docs-page{% endblock %}
{% block content %}
<link rel="stylesheet" href="{% static_v 'css/docs.css' %}" type="text/css">

<div class="docs-toolbar-wrap">
    <div class="docs-shell docs-toolbar">
        <div>
            <h1 class="docs-title">문서 목록</h1>
            <div class="docs-subtitle">{{ current_path_label }}</div>
        </div>
        <a
            class="docs-btn docs-btn-primary"
            href="{{ docs_write_url }}{% if current_dir %}?dir={{ current_dir|urlencode }}{% endif %}"
            id="docs-write-btn"
        >작성</a>
    </div>
</div>

<main
    class="docs-shell docs-content"
    data-docs-page="list"
    data-current-dir="{{ current_dir }}"
    data-docs-base-url="{{ docs_base_url }}"
    data-list-api-url="{{ docs_api_list_url }}"
    data-rename-api-url="{{ docs_api_rename_url }}"
    data-delete-api-url="{{ docs_api_delete_url }}"
    data-write-url="{{ docs_write_url }}"
>
    <ul id="docs-list" class="docs-list" aria-label="문서 목록"></ul>
</main>

<div id="docs-context-menu" class="docs-context-menu" hidden>
    <button type="button" data-action="open">열기</button>
    <button type="button" data-action="rename">이름 바꾸기</button>
    <button type="button" data-action="edit">편집</button>
    <button type="button" data-action="delete">삭제</button>
</div>

{{ initial_entries|json_script:"docs-initial-entries" }}
<script src="{% static_v 'js/docs_page.js' %}" defer onerror="window.__reloadStaticScript(this)"></script>
{% endblock %}
